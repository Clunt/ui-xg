<h1>notification</h1><h2>Description</h2><p>消息通知组件。全局组件,可以通过Provider设置通知持续显示时间、是否显示关闭按钮、提示框是否重复显示.</p>
<h2>Usage</h2><pre><code>在需要使用通知页面对应<span class="hljs-selector-tag">controller</span>中注入<span class="hljs-selector-tag">notification</span>(provider),通过使用<span class="hljs-selector-tag">notification</span>上方法进行调用.
<span class="hljs-selector-tag">angular</span><span class="hljs-selector-class">.module</span>(<span class="hljs-string">'XXXXApp'</span>)<span class="hljs-selector-class">.controller</span>(<span class="hljs-string">'YYYYCtrl'</span>,[<span class="hljs-string">'notification'</span>, function (notification) {}])
</code></pre><h2>notification</h2><ul><li>inject: controller中注入</li>
<li>methods<ul><li><code>warning(text, config)</code>: 显示警告通知,text为提示内容,config为当前显示通知配置项.</li>
<li><code>error(text, config)</code>: 显示错误通知,text为提示内容,config为当前显示通知配置项.</li>
<li><code>info(text, config)</code>: 显示信息通知,text为提示内容,config为当前显示通知配置项.</li>
<li><code>success(text, config)</code>: 显示成功通知,text为提示内容,config为当前显示通知配置项.</li>
<li><code>common(text, config, type)</code>: 显示通知,text为提示内容,type为通知类型(error,warning,success,info四种),config为当前显示通知配置项.</li>
</ul></li>
<li>config(object)<ul><li><code>duration</code>: 通知显示持续时间(毫秒),类型为number,默认为-1,表示一直显示.</li>
<li><code>disableCloseBtn</code>: 是否显示关闭图标,类型为boolean,默认为false,显示关闭图标.</li>
<li><code>variables</code>: 自定义变量对象,用于解析text中的插值{{}}变量,类型为object,默认为空.</li>
</ul></li>
</ul><h2>Restrict</h2><ul><li>&#39;A&#39;</li>
</ul><h2>Provider</h2><ul><li>notificationProvider: 全局配置notification相关的设置.</li>
<li>methods<ul><li><code>globalDurationTime(number|object)</code>: 设置通知显示时间,默认为-1表示一直显示.number表示设置显示时间(毫秒),则所有类型统一设置;object格式为<code>{error:number,info:number,warning:number,success:number}</code>,也可以只设置某几个属性.</li>
<li><code>globalDisableCloseBtn(boolean)</code>: 设置是否显示关闭图标,默认为true表示显示.</li>
<li><code>globalUnique</code>: 设置相同通知是否可以重复显示,默认为true表示不重复(唯一).</li>
<li><code>globalLimitNum</code>: 设置通知限制显示条数,默认为-1表示不限制.</li>
</ul></li>
</ul><hr><h2>Example</h2><div><ul class="nav nav-tabs" id="codeTabs">
    
    <li class="active" data-tab="index_html"><a href="javascript:;">index.html</a></li>
    
    
    <li class="" data-tab="script_js"><a href="javascript:;">script.js</a></li>
    
    
</ul>
<div class="tab-content" id="codeTabPabels">
    
    <div class="tab-pane active" id="index_html">
<pre><code>&lt;div ng-controller=<span class="hljs-string">"notificationDemoCtrl"</span>&gt;
    &lt;button <span class="hljs-class"><span class="hljs-keyword">type</span></span>=<span class="hljs-string">"button"</span> <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"btn btn-sm btn-default"</span> ng-click=<span class="hljs-string">"addNotice()"</span>&gt;添加通知&lt;/button&gt;
    &lt;button <span class="hljs-class"><span class="hljs-keyword">type</span></span>=<span class="hljs-string">"button"</span> <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"btn btn-sm btn-danger"</span> ng-click=<span class="hljs-string">"addNotice('error')"</span>&gt;error&lt;/button&gt;
    &lt;button <span class="hljs-class"><span class="hljs-keyword">type</span></span>=<span class="hljs-string">"button"</span> <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"btn btn-sm btn-info"</span> ng-click=<span class="hljs-string">"addNotice('info')"</span>&gt;info&lt;/button&gt;
    &lt;button <span class="hljs-class"><span class="hljs-keyword">type</span></span>=<span class="hljs-string">"button"</span> <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"btn btn-sm btn-success"</span> ng-click=<span class="hljs-string">"addNotice('success')"</span>&gt;success&lt;/button&gt;
    &lt;button <span class="hljs-class"><span class="hljs-keyword">type</span></span>=<span class="hljs-string">"button"</span> <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"btn btn-sm btn-warning"</span> ng-click=<span class="hljs-string">"addNotice('warning')"</span>&gt;warning&lt;/button&gt;
&lt;/div&gt;</code></pre>
    </div>
    
    
    <div class="tab-pane " id="script_js">
<pre><code>angular.module(<span class="hljs-string">'fuguDemo'</span>).config([<span class="hljs-string">'notificationProvider'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(notificationProvider   )</span> </span>{
    notificationProvider.globalDurationTime(<span class="hljs-number">5000</span>); <span class="hljs-comment">//统一设置5秒后关闭</span>
    notificationProvider.globalDisableCloseBtn(<span class="hljs-keyword">true</span>); <span class="hljs-comment">//统一设置不显示关闭标签</span>
    notificationProvider.globalUnique(<span class="hljs-keyword">false</span>); <span class="hljs-comment">//统一设置通知可重复显示</span>
    notificationProvider.globalLimitNum(<span class="hljs-number">5</span>); <span class="hljs-comment">//统一设置最多显示5条通知</span>
}]);
angular.module(<span class="hljs-string">'fuguDemo'</span>).controller(<span class="hljs-string">'notificationDemoCtrl'</span>,[<span class="hljs-string">'$scope'</span>, <span class="hljs-string">'notification'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">($scope, notification)</span> </span>{
    $scope.notifications = [
        {title:<span class="hljs-string">'This is success info'</span>, type: <span class="hljs-string">'info'</span>},
        {title:<span class="hljs-string">'This is success error'</span>, type: <span class="hljs-string">'error'</span>},
        {title:<span class="hljs-string">'This is success success'</span>, type: <span class="hljs-string">'success'</span>},
        {title:<span class="hljs-string">'This is success warning'</span>, type: <span class="hljs-string">'warning'</span>}
    ];
    $scope.addNotice = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(type)</span></span>{
        <span class="hljs-keyword">var</span> config = {};
        <span class="hljs-keyword">switch</span>(type){
            <span class="hljs-keyword">case</span> <span class="hljs-string">'info'</span>:
                config.duration = <span class="hljs-number">-1</span>; <span class="hljs-comment">//一直显示</span>
                notification.info(<span class="hljs-string">'info － will always show'</span>, config);
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'success'</span>:
                config.duration = <span class="hljs-number">1000</span>; <span class="hljs-comment">//一直显示</span>
                config.disableCloseBtn = <span class="hljs-keyword">true</span>; <span class="hljs-comment">//不显示关闭</span>
                notification.success(<span class="hljs-string">'success - will show 1 second,not show close button'</span>, config);
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'warning'</span>:
                config.variables = {name: <span class="hljs-string">'penglu'</span>, email: <span class="hljs-string">'rabbit_pl@126.com'</span>};  <span class="hljs-comment">// 设置模版</span>
                notification.warning(<span class="hljs-string">'warning - limitNum:2,author:{{name}},email:{{email}}'</span>, config);
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'error'</span>:
                config.duration = <span class="hljs-number">1000</span>; <span class="hljs-comment">//一直显示</span>
                config.disableCloseBtn = <span class="hljs-keyword">true</span>; <span class="hljs-comment">//不显示关闭</span>
                config.variables = {name: <span class="hljs-string">'penglu'</span>, email: <span class="hljs-string">'rabbit_pl@126.com'</span>};
                notification.error(<span class="hljs-string">'error - show 10 second; not show close btn; author:{{name}},email:{{email}}'</span>, config);
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">default</span> :
                $scope.notifications.<span class="hljs-keyword">forEach</span>(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(val)</span></span>{
                    config = angular.copy(val);
                    delete config.title;
                    delete config.type;
                    notification.common(val.title, config, val.type);
                });
                <span class="hljs-keyword">break</span>;
        }
    };
}]);</code></pre>
    </div>
    
    
</div>
<script>
    $(function () {
        var tabs = $('#codeTabs > li'),
            tabPanels = $('.tab-pane');
        tabs.on('click',function (e) {
            e.preventDefault();
            tabs.removeClass('active');
            $(this).addClass('active');
            var id = $(this).data('tab');
            tabPanels.removeClass('active');
            $('#'+id).addClass('active');
        });
    });
</script></div><div class="example"><div ng-controller="notificationDemoCtrl">
    <button type="button" class="btn btn-sm btn-default" ng-click="addNotice()">添加通知</button>
    <button type="button" class="btn btn-sm btn-danger" ng-click="addNotice('error')">error</button>
    <button type="button" class="btn btn-sm btn-info" ng-click="addNotice('info')">info</button>
    <button type="button" class="btn btn-sm btn-success" ng-click="addNotice('success')">success</button>
    <button type="button" class="btn btn-sm btn-warning" ng-click="addNotice('warning')">warning</button>
</div></div><script>angular.module('fuguDemo').config(['notificationProvider', function (notificationProvider   ) {
    notificationProvider.globalDurationTime(5000); //统一设置5秒后关闭
    notificationProvider.globalDisableCloseBtn(true); //统一设置不显示关闭标签
    notificationProvider.globalUnique(false); //统一设置通知可重复显示
    notificationProvider.globalLimitNum(5); //统一设置最多显示5条通知
}]);
angular.module('fuguDemo').controller('notificationDemoCtrl',['$scope', 'notification', function ($scope, notification) {
    $scope.notifications = [
        {title:'This is success info', type: 'info'},
        {title:'This is success error', type: 'error'},
        {title:'This is success success', type: 'success'},
        {title:'This is success warning', type: 'warning'}
    ];
    $scope.addNotice = function(type){
        var config = {};
        switch(type){
            case 'info':
                config.duration = -1; //一直显示
                notification.info('info － will always show', config);
                break;
            case 'success':
                config.duration = 1000; //一直显示
                config.disableCloseBtn = true; //不显示关闭
                notification.success('success - will show 1 second,not show close button', config);
                break;
            case 'warning':
                config.variables = {name: 'penglu', email: 'rabbit_pl@126.com'};  // 设置模版
                notification.warning('warning - limitNum:2,author:{{name}},email:{{email}}', config);
                break;
            case 'error':
                config.duration = 1000; //一直显示
                config.disableCloseBtn = true; //不显示关闭
                config.variables = {name: 'penglu', email: 'rabbit_pl@126.com'};
                notification.error('error - show 10 second; not show close btn; author:{{name}},email:{{email}}', config);
                break;
            default :
                $scope.notifications.forEach(function(val){
                    config = angular.copy(val);
                    delete config.title;
                    delete config.type;
                    notification.common(val.title, config, val.type);
                });
                break;
        }
    };
}]);</script>